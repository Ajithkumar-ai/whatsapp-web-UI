<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Add delivery return purchasing goods</title>
   
    <link rel="stylesheet" href="..//ajith whatsapp/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
   

    <link rel="stylesheet" href="../code/style.css">
    
   
</head>

<body>
    <div class="container">
        <div class="leftSide">
            <!-- header-->
            <div class="header">
                <div class="usering">
                    <img src="..//code/img2.avif" alt="Avatar">
                </div>
                <ul class="nav_icons">
                    <li><ion-icon name="ellipse-outline"></ion-icon></li>
                    <li><ion-icon name="chatbox"></ion-icon></li>
                    <li ><ion-icon id="toggleButton" class="options" name="ellipsis-vertical"></ion-icon></li>
                </ul>
            </div>
            <div class="dropdown1">
              
                <ul >
                    <li> <span>New group</span></li>                    
                    <li> <span>New community</span></li>                    
                    <li> <span>Starred messages</span></li>                   
                    <li><span>Select chats</span></li>               
                    <li><span>Settings</span></li>
                    <li><span>Log out</span></li>
                    <!-- <li><span>Get Whatsapp for Windows</span></li> -->
                </ul>
            </div>
            <!--search-->
            <div class="search_chat">
                <div>
                    <input type="text" placeholder="search or start new chat">
                    <ion-icon name="search-outline"></ion-icon>
                </div>
                <!--chat list-->
                <div class="chartist">
                    <div class="block active">
                        <div class="imgbx">
                            <img src="../code/img3.avif" class="cover">
                        </div>
                        <div class="details">
                            <div class="listhead">
                                <h4> Gowtham</h4>
                                <p class="time">7:30pm</p>
                            </div>
                            <div class="message_p">
                                <p> Come to Office </p>

                            </div>  
                           
                            
                        </div>

                    </div>
                    <hr>
                    <div class="block unread">
                        <div class="imgbx">
                            <img src="..//code/img2.avif" class="cover">
                        </div>
                        <div class="details">
                            <div class="listhead">
                                <h4>Suriya</h4>
                                <p class="time">3:30pm</p>
                            </div>
                            <div class="message_p">
                                <p> Bro Ennaku oru dout</p>
                                <b>1</b>

                            </div>
                        </div>

                    </div>
                    <hr>

                    <!--additional-->
                    <div class="block unread">
                        <div class="imgbx">
                            <img src="..//code/img4.avif" class="cover">
                        </div>
                        <div class="details">
                            <div class="listhead">
                                <h4> Gowtham 2</h4>
                                <p class="time">7:30pm</p>
                            </div>
                            <div class="message_p">
                                <p> Come to Office </p>
                                <b>10</b>

                            </div>
                        </div>
                    </div>
                    <hr>
                   
                    <div class="block ">
                        <div class="imgbx">
                            <img src="..//code/img6.avif" class="cover">
                        </div>
                        <div class="details">
                            <div class="listhead">
                                <h4> Gowtham 1</h4>
                                <p class="time">7:30pm</p>
                            </div>
                            <div class="message_p">
                                <p> Come to Office </p>

                            </div>
                        </div>
                    </div> <hr>
                    <div class="block ">
                        <div class="imgbx">
                            <img src="..//code/img7.avif" class="cover">
                        </div>
                        <div class="details">
                            <div class="listhead">
                                <h4>ajith</h4>
                                <p class="time">7:30pm</p>
                            </div>
                            <div class="message_p">
                                <p> Come to Office </p>

                            </div>
                        </div>
                    </div><hr>
                    <div class="block ">
                        <div class="imgbx">
                            <img src="..//code/img8.avif" class="cover">
                        </div>
                        <div class="details">
                            <div class="listhead">
                                <h4>Dhamu</h4>
                                <p class="time">7:30pm</p>
                            </div>
                            <div class="message_p">
                                <p> Come to Office </p>

                            </div>
                        </div>
                    </div>
                    <hr>
                     <!--end additional-->
                </div>
            </div>

        </div>
        <div class="rightSide">
            <div class="header">
                <div class="imgtext">
                    <div class="usering">
                        <img src="img1.avif" alt="Avatar">
                    </div>
                    <h4>Gowtham<br><span>online</span></h4>
                </div>
                <ul class="nav_icons">
                   <div class="right-search">
                     </div>
                     <input type="text" class="search" placeholder="Search">
                    <li class="search-tab"><ion-icon id="stoggleButton" name="search-outline"></ion-icon></li>
                    
                 
                    <li  class="ellipsis"><ion-icon id="rtoggleButton" name="ellipsis-vertical-outline" ></ion-icon></li>
                    <div class="right-dropdown">
                        <ul >
                            <li> <span>New group</span></li>                    
                            <li> <span>New community</span></li>                    
                            <li> <span>Starred messages</span></li>                   
                            <li><span>Select chats</span></li>               
                            <li><span>Settings</span></li>
                            <li><span>Log out</span></li>
                            <!-- <li><span>Get Whatsapp for Windows</span></li> -->
                        </ul>
                    </div>
                </ul>

            </div>
             
                
            <!--chatbox-->
            <div class="chatbox">
                
                <div class="message my_message">
                    <ion-icon name="happy-outline" style="margin-top: 20px; margin-right: 10px;" ></ion-icon>

                    <p>

                        Hi bro<br><span>12:15</span>
                        
                 <!-- <label for="upload"><span><ion-icon name="chevron-up-circle-outline" style="margin-top: 5px; font-size: 18px;" ></ion-icon></span></label>                       
                 <input type="file" id="upload" style="display: none; visibility: none;"  >
                 <span><ion-icon name="chevron-down-circle-outline"  onclick="download()" style="margin-top: 5px; font-size: 18px;"></ion-icon></span> -->
                </p>
                </div>
                <div class="message frnd_message">

                    <p>
                        Hello<br><span>12:15</span>
                    </p>

                </div>
                <!--additional-->
                <div class="message my_message">
                    <ion-icon name="happy-outline" style="margin-top: 20px; margin-right: 10px;" ></ion-icon>

                    <p>Bro have you got your result<br><span>12:15</span>
                        <!-- <label for="upload"><span><ion-icon name="chevron-up-circle-outline" style="margin-top: 5px; font-size: 18px;" ></ion-icon></span></label>                       
                        <input type="file" id="upload" style="display: none; visibility: none;"  >
                        <span><ion-icon name="chevron-down-circle-outline"  onclick="download()" style="margin-top: 5px; font-size: 18px;"></ion-icon></span> -->
                </p>
                </div>
                <div class="message frnd_message">
                    
                    <p>
                        NO bro server issue <br><span>12:15</span>
                    </p>

                </div>
                <div class="message my_message">
                    <ion-icon name="happy-outline" style="margin-top: 20px; margin-right: 10px;" ></ion-icon>

                    <p>
                        <br><span>12:15</span>
                        <!-- <label for="upload"><span><ion-icon name="chevron-up-circle-outline" style="margin-top: 5px; font-size: 18px;" ></ion-icon></span></label>                       
                        <input type="file" id="upload" style="display: none; visibility: none;"  >
                        <span><ion-icon name="chevron-down-circle-outline"  onclick="download()" style="margin-top: 5px; font-size: 18px;"></ion-icon></span> -->
                    </p>

                </div>
                <div class="message frnd_message">
                    <p>
                        hello<br><span>12:15</span>
                        
                   </p>

                </div>
                <div class="message my_message">
                    <ion-icon name="happy-outline" style="margin-top: 20px; margin-right: 10px;" ></ion-icon>

                    <p>
                        hi<br><span>12:15</span>
                        <!-- <label for="upload"><span><ion-icon name="chevron-up-circle-outline" style="margin-top: 5px; font-size: 18px;" ></ion-icon></span></label>                       
                        <input type="file" id="upload" style="display: none; visibility: none;"  >
                        <span><ion-icon name="chevron-down-circle-outline"  onclick="download()" style="margin-top: 5px; font-size: 18px;"></ion-icon></span> -->
                    </p>

                </div>
                <div class="message frnd_message">

                  
                    <p>
                      
                        hello<br><span>12:15</span>
                    </p>
                </div>
                <div class="message my_message">
                    <ion-icon name="happy-outline" style="margin-top: 20px; margin-right: 10px;" ></ion-icon>

                    <p>
                        hi<br><span>12:15</span>
                        <!-- <label for="upload"><span><ion-icon name="chevron-up-circle-outline" style="margin-top: 5px; font-size: 18px;" ></ion-icon></span></label>                       
                        <input type="file" id="upload" style="display: none; visibility: none;"  >
                        <span><ion-icon name="chevron-down-circle-outline"  onclick="download()" style="margin-top: 5px; font-size: 18px;"></ion-icon></span> -->
                    </p>

                </div>
                <div class="message frnd_message">
                    <p>
                        hello<br><span>12:15</span>
                    </p>

                </div>
                <div class="message my_message">
                    <ion-icon name="happy-outline" style="margin-top: 20px; margin-right: 10px;" ></ion-icon>

                    <p>
                        hi<br><span>12:15</span>

                    </p>
                 

                </div>
                <div class="message frnd_message">
                    <p>
                        hello<br><span>12:15</span>
                    </p>

                </div>
                <div class="message my_message">
                    <ion-icon name="happy-outline" style="margin-top: 20px; margin-right: 10px;" ></ion-icon>

                    <p>
                        hi<br><span>12:15</span>
                        <!-- <label for="upload"><span><ion-icon name="chevron-up-circle-outline" style="margin-top: 5px; font-size: 18px;" ></ion-icon></span></label>                       
                        <input type="file" id="upload" style="display: none; visibility: none;"  > -->
                        <!-- <span><ion-icon name="chevron-down-circle-outline"  onclick="download()" style="margin-top: 5px; font-size: 18px;"></ion-icon></span> -->
                    </p>
                    <i class="fa-duotone fa-folder-arrow-up"></i>
                </div>
                <div class="message frnd_message">
                    <p>
                        hello<br><span>12:15</span>
                    </p>

                </div>
                <!--end additional-->

            </div>
            <!--chat input-->
            <div class="chatbox_input">
                <!-- <ion-icon name="happy-outline"></ion-icon> -->
          
                    <ion-icon name="attach-outline" id="myBtn" class="dropbtn">  </ion-icon>
                       
               
           
             
             
     
                <input type="text" placeholder="Type A Message" id="mentionInput">
                <div class="popuprightsearch">
                    
                </div>
                 <!-- <div id="chat-box" contenteditable="true" oninput="handleInput(event)"></div>
                 <div id="member-list"></div> -->
                <ion-icon name="mic"></ion-icon>
            </div>









             <!-- drag and drop -->
             <form class="form-container" enctype="multipart/form-data">
                <!-- Added overlay div -->

                <div class="overlay" id="overlay" >Drop your files here...</div>
              
                <div class="upload-files-container" id="upload-files-container" style="display:none" >
                  <div class="drag-file-area">
                    <!-- <span class="material-icons-outlined upload-icon"> file_upload </span> -->
                    <!-- <h3 class="dynamic-message">Drag & drop </h3> -->
                    <label class="label">
                      <!-- or -->
                      <span class="browse-files">
                        <input type="file" class="default-file-input" />
                        <span class="browse-files-text">browse file</span>
                        <!-- <span>from device</span> -->
                      </span>
                    </label>
                  </div>
                  <span class="cannot-upload-message">
                    <span class="material-icons-outlined">error</span> Please select a file
                    first
                    <span class="material-icons-outlined cancel-alert-button">cancel</span>
                  </span>
                  <div class="file-block">
                    <div class="file-info">
                      <span class="material-icons-outlined file-icon">description</span>
                      <span class="file-name"> </span> | <span class="file-size"> </span>
                      <span class="material-icons remove-file-icon">delete</span>
                    </div>
                  
                    <div class="progress-bar"></div>
                  </div>
                  <button type="button" class="upload-button">Upload</button>
                  <div>
                    <button id="sav1" type="submit" class="tasksave1 tasksave2" onclick="uploadFiles()" >Share</button>
                  </div>
               
                </div>
              
              </form>

            
    

        </div>
               
      

       

    </div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.min.js"></script>
<script>
    function download() {
        axios({
            url: 'https://source.unsplash.com/random/500x500',
            method: 'GET',
            responseType: 'blob'
        })
            .then((response) => {
                const url = window.URL
                    .createObjectURL(new Blob([response.data]));
                const link = document.createElement('a');
                link.href = url;
                link.setAttribute('download', 'image.jpg');
                document.body.appendChild(link);
                link.click();
            })
    }
 
</script>

 <script>
    const input = document.getElementById('upload');
const link = document.getElementById('link');
let objectURL;

input.addEventListener('change', function () {
  if (objectURL) {
    // revoke the old object url to avoid using more memory than needed
    URL.revokeObjectURL(objectURL);  
  }

  const file = this.files[0];
  objectURL = URL.createObjectURL(file);

  link.download = file.name; // this name is used when the user downloads the file
  link.href = objectURL;
});
 </script>   

    <script>
      $('#file-upload').change(function() {
    var filepath = this.value;
  
});

    </script>
<script>
    function uploadFiles() {
    var files = document.getElementById('file_upload').files;
    if(files.length==0){
        alert("Please first choose or drop any file(s)...");
        return;
    }
    var filenames="";
    for(var i=0;i<files.length;i++){
        filenames+=files[i].name+"\n";
    }
    alert("Selected file(s) :\n____________________\n"+filenames);
}
</script>

<script >


var isAdvancedUpload = (function () {
    var div = document.createElement("div");
    return (
      ("draggable" in div || ("ondragstart" in div && "ondrop" in div)) &&
      "FormData" in window &&
      "FileReader" in window
    );
  })();

  let fileInput = document.querySelector(".default-file-input");
  let uploadButton = document.querySelector(".upload-button");
  let uploadedFilesContainer = document.querySelector(".upload-files-container" );
  let uploadedFilesContainers = document.getElementById("upload-files-container" );
  let overlay = document.getElementById("overlay");
  let dragCounter = 0;

  function showuploadedFilesContainers() {
    uploadedFilesContainers.style.display = "block";
  }

  function hideuploadedFilesContainers() {
    uploadedFilesContainers.style.display = "none";
  }
  function showOverlay() {
    overlay.style.display = "flex";
  }

  function hideOverlay() {
    overlay.style.display = "none";
  }

  ["dragenter", "dragover", "dragleave", "drop"].forEach((eventName) => {
    window.addEventListener(
      eventName,
      function (e) {
        e.preventDefault();
        e.stopPropagation();
      },
      false
    );
  });

  window.addEventListener("dragenter", function (e) {
    dragCounter++;
    showOverlay();
    showuploadedFilesContainers();
  });

  window.addEventListener("dragleave", function (e) {
    dragCounter--;
    if (dragCounter === 0) {
      hideOverlay();
      showuploadedFilesContainers();
    }
  });

  window.addEventListener("drop", function (e) {
    dragCounter = 0;
    hideOverlay();

    processFiles(e.dataTransfer.files);
  });

  fileInput.addEventListener("change", function () {
    processFiles(fileInput.files);
  });



  let allFiles = []; // Array to store all files

function processFiles(files) {
  Array.from(files).forEach(file => {
    allFiles.push(file); // Add new file to the array
    processFile(file);
  });
}

  function processFile(file) {
    let fileBlock = document.createElement("div");
    fileBlock.className = "file-block";
    fileBlock.style.display = "flex";
    fileBlock.innerHTML = `
        <div class="file-info">
            <span class="material-icons-outlined file-icon">description</span>
            <span class="file-name">${file.name}</span> |
            <span class="file-size">${(file.size / 1024).toFixed(1)} KB</span>
        </div>
        <span class="material-icons remove-file-icon" onclick="removeFile(this)">delete</span>
      
        <div class="progress-bar" style="width: 0; height: 5px; bottom: 0; position: absolute;"></div>`;
    uploadedFilesContainer.appendChild(fileBlock);
    dropArea.innerHTML = filedata;
  }

  window.removeFile = function (element) {
    let fileName = element.closest(".file-block").querySelector(".file-name").textContent;
    allFiles = allFiles.filter(file => file.name !== fileName); // Remove file from the array
    element.closest(".file-block").remove();
  };

  uploadButton.addEventListener("click", function () {
    // Remove the behavior that opens the file input
    // Instead, call the function to start uploading files
    uploadFiles();
  });

  window.addEventListener("paste", function (e) {
    const items = (e.clipboardData || e.originalEvent.clipboardData).items;
    let files = [];
    for (let item of items) {
      if (item.kind === "file") {
        let file = item.getAsFile();
        files.push(file);
      }
    }
    if (files.length > 0) {
      processFiles(files);
    }
  });

  // Function to simulate the upload process
  function uploadFiles() {
    let fileBlocks = uploadedFilesContainer.querySelectorAll(".file-block");
    fileBlocks.forEach((block) => {
      // Simulate file upload progress
      let progressBar = block.querySelector(".progress-bar");
      let width = 0;
      let intervalId = setInterval(() => {
        if (width >= 100) {
          clearInterval(intervalId);
          progressBar.style.width = "100%";
        } else {
          width++;
          progressBar.style.width = width + "%";
        }
      }, 50);
    });
  }

  // Trigger the upload process when the upload button is clicked
  uploadButton.addEventListener("click", function () {
    // Assuming all files are ready to upload, for example purposes
    uploadFiles();
  });

  // Add a click event listener to the cancel (X) button to hide the upload message
  document
    .querySelector(".cancel-alert-button")
    .addEventListener("click", function () {
      document.querySelector(".cannot-upload-message").style.display = "none";
    });
</script>
    </script>







    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var mentionInput = document.getElementById('mentionInput');
            var mentionList = document.getElementById('mentionList');
    
            mentionInput.addEventListener('input', function () {
                var inputValue = mentionInput.value;
                var startIndex = inputValue.lastIndexOf('@');
    
                if (startIndex !== -1) {
                    var searchQuery = inputValue.substring(startIndex + 1);
    
                    // You can replace this with your logic to fetch user list based on the searchQuery
                    var userList = fetchUserList(searchQuery);
    
                    // Display the mention list
                    displayMentionList(userList);
                } else {
                    // Hide the mention list if '@' is not present
                    mentionList.style.display = 'none';
                }
            });
    
            // Handle clicks on the mention list items
            mentionList.addEventListener('click', function (event) {
                if (event.target.tagName === 'LI') {
                    // Replace the mention in the input with the selected username
                    var selectedUsername = event.target.innerText;
                    var inputValue = mentionInput.value;
                    var startIndex = inputValue.lastIndexOf('@');
                    var newValue = inputValue.substring(0, startIndex + 1) + selectedUsername + ' ';
                    mentionInput.value = newValue;
    
                    // Hide the mention list
                    mentionList.style.display = 'none';
                }
            });
    
            // Close mention list on document click
            document.addEventListener('click', function () {
                mentionList.style.display = 'none';
            });
    
            // Prevent closing the mention list when clicking inside it
            mentionList.addEventListener('click', function (event) {
                event.stopPropagation();
            });
    
            function fetchUserList(searchQuery) {
                // Replace this with your logic to fetch user list from a server or other data source
                // For demonstration purposes, returning a static list
                return ['user1', 'user2', 'user3', 'user4'];
            }
    
            function displayMentionList(userList) {
                // Update the mention list content and display it
                mentionList.innerHTML = userList.map(function (user) {
                    return '<li>' + user + '</li>';
                }).join('');
                mentionList.style.display = 'block';
            }
        });
    </script>
     <script>
        document.addEventListener('DOMContentLoaded', function () {
            var mentionInput = document.getElementById('mentionInput');
            var mentionList = document.getElementById('mentionList');
            var fetchTimeout;
    
            mentionInput.addEventListener('input', function () {
                var inputValue = mentionInput.value;
                var startIndex = inputValue.lastIndexOf('@');
    
                if (startIndex !== -1) {
                    var searchQuery = inputValue.substring(startIndex + 1);
    
                    // Clear the previous timeout
                    clearTimeout(fetchTimeout);
    
                    // Set a new timeout to fetch user list after a delay
                    fetchTimeout = setTimeout(function () {
                        // You can replace this with your logic to fetch user list based on the searchQuery
                        var userList = fetchUserList(searchQuery);
    
                        // Display the mention list
                        displayMentionList(userList);
                    }, 300); // Adjust the delay as needed
                } else {
                    // Hide the mention list if '@' is not present
                    mentionList.style.display = 'none';
                }
            });
    
            // Handle clicks on the mention list items
            mentionList.addEventListener('click', function (event) {
                if (event.target.tagName === 'LI') {
                    // Replace the mention in the input with the selected username
                    var selectedUsername = event.target.innerText;
                    var inputValue = mentionInput.value;
                    var startIndex = inputValue.lastIndexOf('@');
                    var newValue = inputValue.substring(0, startIndex + 1) + selectedUsername + ' ';
                    mentionInput.value = newValue;
    
                    // Hide the mention list
                    mentionList.style.display = 'none';
                }
            });
    
            // Close mention list on document click
            document.addEventListener('click', function () {
                mentionList.style.display = 'none';
            });
    
            // Prevent closing the mention list when clicking inside it
            mentionList.addEventListener('click', function (event) {
                event.stopPropagation();
            });
    
            function fetchUserList(searchQuery) {
                // Replace this with your logic to fetch user list from a server or other data source
                // For demonstration purposes, returning a static list
                return ['user1', 'user2', 'user3', 'user4'].filter(function (user) {
                    // Filter the list based on the search query
                    return user.toLowerCase().includes(searchQuery.toLowerCase());
                });
            }
    
            function displayMentionList(userList) {
                // Update the mention list content and display it
                mentionList.innerHTML = userList.map(function (user) {
                    return '<li>' + user + '</li>';
                }).join('');
    
                // Display the mention list
                mentionList.style.display = 'block';
            }
        });
    </script>
    <script src="../code/script.js"></script>

    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>



</body>

</html>